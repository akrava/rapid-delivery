<!doctype html>
<html lang="ru">
    {{>head}}
    <body>
        <header class="navbar">
            {{> header}}
        </header>
        <main class="container mt-4" role="main">
            <nav aria-label="breadcrumb">
               {{> breadcrumb}}
            </nav>
            <h1>Редагування акаунту</h1>
            <p>
                Усі поля (окрім біографії) форми, наведеної нижче, є необхідними для заповнення:
            </p>
            <p>
                Якщо ви не бажаєте оновлювати фото, залиште відповідне поле пустим.
            </p>
            {{#user}}
            <form id="edit-profile" class="needs-validation mx-auto form-default mb-4 p-4"  action="/users/update" enctype="multipart/form-data" method="POST" novalidate>
                <div class="form-group form-inline ">
                    <label for="fullname_field">Повне ім'я:</label>
                    <input type="text" class="form-control mx-sm-3" placeholder="Повне ім'я" minlength="3" maxlength="30" name="fullname" id="fullname_field" aria-describedby="fullname_helpBlock" value="{{fullname}}" required>
                    <small id="fullname_helpBlock" class="form-text text-muted">
                        Ім'я повинно мати довжину від 3 до 30 символів включно
                    </small>
                    <div class="invalid-feedback">
                        Введіть правильне ім'я
                    </div>
                </div>
                <div class="form-group form-inline">
                    <label for="email_field">E-Mail:</label>
                    <input type="email" class="form-control mx-sm-3" placeholder="Введіть email" name="email" value="{{email}}" id="email_field" required>
                    <div class="invalid-feedback">
                        Введіть правильний email
                    </div>
                </div>
                <div class="form-group form-inline">
                    <label for="phone_field">Номер телефону:</label>
                    <input type="tel" class="form-control mx-sm-3" placeholder="Номер телефону" value="{{phone}}" pattern="\+380[0-9]{9}" name="phone" id="phone_field" aria-describedby="phone_helpBlock" required>
                    <small id="phone_helpBlock" class="form-text text-muted">
                        Формат +380ххххххххх
                    </small>
                    <div class="invalid-feedback">
                        Введіть правильний номер телефону
                    </div>
                </div>
                <div class="form-group form-inline">
                    <label for="photo_field">Фото профілю:</label>
                    <div class="custom-file w-auto mx-sm-3">
                        <input type="file" class="custom-file-input"  accept="image/*" name="photo" id="photo_field">
                        <label class="custom-file-label small" id="file-label" style="justify-content: left;" for="customFile">Виберіть фото</label>
                    </div>
                    <small id="phone_helpBlock" class="form-text text-muted">
                        Фото повинно бути формату .jpg, .png та розміром до 3 МБ
                    </small>
                </div>
                <div class="form-group form-inline">
                    <label for="bio_field">Біографія:</label>
                    <textarea placeholder="інформація про себе" class="form-control mx-sm-3" name="bio" id="bio_field" rows="3" maxlength="1000">{{bio}}</textarea>
                </div>
                <div class="form-group form-inline">
                    <label for="pasw_field">Пароль:</label>
                    <input type="password" class="form-control mx-sm-3" id="pasw_field" placeholder="Пароль"  minlength="8" maxlength="30" name="pasw" aria-describedby="pasw_helpBlock" required>
                    <div class="invalid-feedback">
                        Введіть правильний пароль
                    </div>
                </div>
                <input name="id" type="hidden" value="{{id}}">
                <div class="col d-md-inline-flex">
                    <button class="btn btn-primary ml-auto mr-4" type="submit">Оновити</button>
                    <button class="btn btn-secondary mr-auto" type="reset">Скинути</button>
                </div>
            </form>
            {{/user}}
        </main>
        <footer class="footer">
            {{> footer}}
        </footer>
        <script defer src="/javascripts/form-validation.js"></script>
        <script defer src="/javascripts/photo-input.js"></script>
        <script defer src="/javascripts/phone-input.js"></script>        
        {{> scripts}}
    </body>
</html>