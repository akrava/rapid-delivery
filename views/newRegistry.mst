<!doctype html>
<html lang="ru">
    {{> head}}
    <body>
        <header class="navbar">
            {{> header}}
        </header>
        <main class="container mt-4" role="main">
            <nav aria-label="breadcrumb">
               {{> breadcrumb}}
            </nav>
            <h1>{{#registry}}Редагування реєстру {{number}} - {{name}}{{/registry}}{{^registry}}Створення нового реєстру накладних{{/registry}}</h1>
            <p>
                Усі поля форми, наведеної нижче, є необхідними для заповнення:<br/>
            </p>
            <form id="insert" class="needs-validation mx-auto form-default mb-4 p-4" action="/registries/{{#registry}}update{{/registry}}{{^registry}}add{{/registry}}" method="POST" novalidate>
                {{^standartUser}}
                <div class="form-group form-inline ">
                    <label for="user_field">Користувач:</label>
                    <select name="userID" class="form-control mx-sm-3 custom-select" id="user_field" required>
                        {{^registry}}<option hidden disabled selected value>виберіть користувача</option>{{/registry}}
                        {{#users}}
                            <option {{#selected}}selected{{/selected}} value="{{id}}">{{fullname}}</option>
                        {{/users}}
                    </select>
                    <div class="invalid-feedback">
                        Виберіть користувача
                    </div>
                </div>
                {{/standartUser}}
                {{#standartUser}}
                    <input type="hidden" name="userID" value="{{loginedUser.id}}">
                {{/standartUser}}
                <div class="form-group form-inline ">
                    <label for="name_field">Назва:</label>
                    <input type="text" minlength="3" maxlength="100" class="form-control mx-sm-3" placeholder="Назва" name="name" id="name_field" aria-describedby="name_helpBlock" {{#registry}}value="{{registry.name}}"{{/registry}} required>
                    <small id="name_helpBlock" class="form-text text-muted">
                        Назва повинна мати довжину від 3 до 100 символів включно
                    </small>
                    <div class="invalid-feedback">
                        Введіть правильне ім'я
                    </div>
                </div>
                <div class="form-group form-inline ">
                    <label for="description_field">Короткий опис:</label>
                    <input type="text" minlength="3" maxlength="300" class="form-control mx-sm-3" placeholder="Короткий опис" name="description" id="description_field" aria-describedby="description_helpBlock" {{#registry}}value="{{registry.description}}"{{/registry}} required>
                    <small id="description_helpBlock" class="form-text text-muted">
                        Опис повинен мати довжину від 3 до 300 символів включно
                    </small>
                    <div class="invalid-feedback">
                        Введіть корректний опис
                    </div>
                </div>
                {{#registry}}
                    <input name="id" type="hidden" value="{{id}}">
                {{/registry}}
                <div class="col d-md-inline-flex">
                    <button class="btn btn-primary ml-auto mr-4" type="submit">{{#registry}}Оновити{{/registry}}{{^registry}}Додати{{/registry}}</button>
                    <button class="btn btn-secondary mr-auto" type="reset">Скинути</button>
                </div>
            </form>
        </main>
        <footer class="footer">
            {{> footer}}
        </footer>
        <script defer src="/javascripts/form-validation.js"></script>
        {{> scripts}}
    </body>
</html>